
```{r}
# EEG analysis

################################################################################
####### CMC analysis, potenitally for dissertation, conference abstract ########
################################################################################

## load libraries
library(readr) # for reading csv files
library(dplyr) # for data manipulation
library(ggplot2) # for visualization
library(tidyr) # for data tidying
library(Hmisc)
# import CSV file with subject IDs and analyze CMC over time, as well as beta vs gamma, muscle, brain region, etc
# set working directory to folder with all step9 excel files
allData.df <- read_csv("/Users/DOB223/Library/CloudStorage/OneDrive-MedicalUniversityofSouthCarolina/Documents/lab/studies/1eeg/TNTanalysis/allDataForAnalyzeTNT.txt")
```

```{r}
## sanity check to assess if the import in matlab was done correctly

# first, check how many rows there are per subject
summary_by_subject <- allData.df %>%
    group_by(Subject) %>%
    dplyr::summarise(n_rows = n()) %>%
    arrange(n_rows)
# bar graph of it
ggplot(summary_by_subject, aes(x = Subject, y = n_rows)) +
    geom_bar(stat = "identity", fill = "steelblue") +
    theme_minimal() +
    labs(
        title = "Rows per Subject",
        x = "Subject",
        y = "Number of Rows"
    )
```
################################################
########### descriptive statistics #############
################################################
```{r}
# basic descriptives of cmc_data_full
summary(allData.df)
describe(allData.df)

# check for missing values
missing_values <- sapply(allData.df, function(x) sum(is.na(x)))
print(missing_values)

# WMFT
ggplot(distinct(allData.df, Subject, .keep_all = TRUE), 
       aes(x = `WFMTavgTime`)) + 
  geom_histogram(binwidth = 10) +
  labs(
    title = "Distribution of WMFT PRE Average Scores",
    x = "WMFT PRE Average Score",
    y = "Number of Subjects"
  )
```

Add new variable that notes the connection, so don't have to add Muscle & BrainRegion to modeling.
```{r}
allData.df <- allData.df %>%
  mutate(connection = factor(paste0(BrainRegion, '-', Muscle)))
```


```{r}



```



