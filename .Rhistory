# fixed effects
# update: i had to change it to 2 way interactions for now. for three way, need to specify which 3 way interactions are plausible, so that memory error doesn't occur. Also,                                  reconsider whether to add LrnRate?
(INTFcond + COND + age + session + binned_seq + musicalInstrument + videoGames + writingKeyboard +
typeWithoutLooking + alertness_start + alertness_end + concentration + taskDifficulty + frustrationLevel +                              stressLevel + covertSequence +
# add interaction term desired
binned_seq*COND*INTFcond*covertSequence) +
# random effects
(binned_seq | workerID),
data = sess15
)
car::Anova(backElim2)
car::Anova(backElim2,type='III')
backElim3 <- lmer(trialScore3_allFingers ~
binned_seq*COND*INTFcond*covertSequence +
# random effects
(binned_seq | workerID),
data = sess15
)
anova(backElim3)
Anova(backElim3)
Anova(backElim3, type='III')
anova(backElim3)
Anova(backElim3, type='III')
plot_model(backElim3,type='int')
library(performance)
plot_model(backElim3,type='int')
library(sjplot)
library(easystats)
plot_model(backElim3,type='int')
library(parameters)
plot(parameters(backElim3))
library(sjPlot)
plot_model(backElim3,type='int')
backElim4 <- lmer(trialScore3_allFingers ~
binned_seq*COND*INTFcond + binned_seq*COND*covertSequence +
# random effects
(binned_seq | workerID),
data = sess15
)
anova(backElim4)
Anova(backElim4, type='III')
backElim4 <- lmer(trialScore3_allFingers ~
binned_seq*COND*INTFcond + binned_seq*COND*overtSequence +
# random effects
(binned_seq | workerID),
data = sess15
)
anova(backElim4)
Anova(backElim4, type='III')
plot_model(backElim4)
plot_model(backElim4,type='int')
summary(backElim4)
plot_model(backElim4,type='int')
anova(backElim4)
Anova(backElim4, type='III')
summary(backElim4)
plot_model(backElim4,type='int')
report(backElim4)
library('lme4', 'lmerTest', 'performance','dplyr', 'car')
library(c('lme4', 'lmerTest', 'performance','dplyr', 'car'))
libs <- c('lme4', 'lmerTest', 'performance','dplyr', 'car') # needed if loading data in and not starting at top of script.
library(libs)
libs <- c('lme4', 'lmerTest', 'performance','dplyr', 'cars','sjPlot') # needed if loading data in and not starting at top of script.
lapply(libs, require, character.only = TRUE)
libs <- c('lme4', 'lmerTest', 'performance','dplyr', 'car','sjPlot') # needed if loading data in and not starting at top of script.
lapply(libs, require, character.only = TRUE)
libs <- c('lme4', 'lmerTest', 'performance','dplyr', 'car','sjPlot','parameters','easystats') # needed if loading data in and not starting at top of script.
lapply(libs, require, character.only = TRUE)
knitr::opts_chunk$set(echo = TRUE)
load('allData_mTurk.Rdata')
libs <- c('lme4', 'lmerTest', 'performance','dplyr', 'car','sjPlot','parameters','easystats') # needed if loading data in and not starting at top of script.
lapply(libs, require, character.only = TRUE)
sess15 <- allData.df %>%
dplyr::filter(session %in% 1:5)
testCovar2 <- lmer(trialScore3_allFingers ~
# model interaction term
# fixed effects
binned_seq*COND*videoGames + binned_seq*COND*typeWithoutLooking +
binned_seq*COND*alertness_start + binned_seq*COND*alertness_end +
binned_seq*COND*concentration +
# random effects
(binned_seq | workerID),
data = sess15
)
sess57.df <- allData.df %>%
dplyr::filter(session %in% 5:7)
testCovar2 <- lmer(trialScore3_allFingers ~
# model interaction term
# fixed effects
binned_seq*COND*videoGames + binned_seq*COND*typeWithoutLooking +
binned_seq*COND*alertness_start + binned_seq*COND*alertness_end +
binned_seq*COND*concentration +
# random effects
(binned_seq | workerID),
data = sess15
)
anova(testCovar2)
Anova(testCovar2, type = 'III')
sess57.df <- allData.df %>%
dplyr::filter(session %in% 5:7)
intfCondTest <- lmer(trialScore3_allFingers ~
# fixed effects
binned_seq*COND*videoGames + binned_seq*COND*typeWithoutLooking +
binned_seq*COND*alertness_start + binned_seq*COND*alertness_end +
binned_seq*COND*concentration +
# random effects
(binned_seq | workerID),
data = sess57.df
)
tab_model(testCovar2, show.p = TRUE, show.est = TRUE, show.ci = 0.95, show.fstat = TRUE, show.stat = TRUE)
tab_model(testCovar2, show.p = TRUE, show.est = TRUE, show.ci = 0.95, show.fstat = TRUE, show.stat = TRUE, show.r2 = TRUE, show.aic = TRUE)
tab_model(testCovar2, show.p = TRUE, show.est = TRUE, show.ci = 0.95, show.fstat = TRUE, show.stat = TRUE, show.r2 = TRUE)
intfTesting1 <- lmer(trialScore3_allFingers ~
# fixed effects
binned_seq*COND*videoGames +
binned_seq*COND*typeWithoutLooking +
binned_seq*COND*alertness_start +
binned_seq*COND*alertness_end +
binned_seq*COND*concentration +
# random effects
(binned_seq | workerID),
data = sess57.df
)
summary(intfTesting1)
check_model(intfTesting1)
plot_model(intfTesting1)
?tab_model
tab_model(testCovar2, show.p = TRUE, show.est = TRUE, show.ci = 0.95, show.fstat = TRUE, show.stat = TRUE, show.r2 = TRUE, use.viewer = FALSE)
testCovar1 <- lmer(trialScore3_allFingers ~
# model interaction term
# fixed effects
binned_seq*COND*age +
binned_seq*COND*musicalInstrument +
binned_seq*COND*videoGames +
binned_seq*COND*writingKeyboard +
binned_seq*COND*typeWithoutLooking +
binned_seq*COND*alertness_start +
binned_seq*COND*alertness_end +
binned_seq*COND*concentration +
binned_seq*COND*taskDifficulty +
binned_seq*COND*frustrationLevel +
binned_seq*COND*stressLevel +
# random effects
(binned_seq | workerID),
data = sess15
)
Anova(testCovar1, type = 'III')
tab_model(testCovar1, show.p = TRUE, show.est = TRUE, show.ci = 0.95, show.fstat = TRUE, show.stat = TRUE, show.r2 = TRUE, use.viewer = FALSE)
Anova(testCovar1, type = 'III')
testCovar2 <- lmer(trialScore3_allFingers ~
# model interaction term
# fixed effects
binned_seq*COND*videoGames +
binned_seq*COND*typeWithoutLooking +
binned_seq*COND*alertness_start +
binned_seq*COND*alertness_end +
binned_seq*COND*concentration +
# random effects
(binned_seq | workerID),
data = sess15
)
Anova(testCovar2, type = 'III')
tab_model(testCovar2, show.p = TRUE, show.est = TRUE, show.ci = 0.95, show.fstat = TRUE, show.stat = TRUE, show.r2 = TRUE, use.viewer = FALSE)
plot_model(testCovar2, type = 'int')
plot(sess15$alertness_end)
str(sess15$alertness_end)
str(sess15$alertness_start)
Anova(testCovar2, type = 'III')
View(allData.df)
alertness_change <- allData.df$alertness_start - allData.df$alertness_end
plot(alertness_change)
alertness_change <- allData.df$alertness_end - allData.df$alertness_start
plot(alertness_change)
allData2.df <- right_join(allData.df, alertness_change)
allData2.df <- full_join(allData.df, alertness_change)
allData2.df <- left_join(allData.df, alertness_change)
allData2.df$alertness_change <- allData.df$alertness_end - allData.df$alertness_start
allData2.df <- allData.df
allData2.df$alertness_change <- allData.df$alertness_end - allData.df$alertness_start
View(allData2.df)
allData.df$alertness_change <- allData.df$alertness_end - allData.df$alertness_start
rm(allData2.df)
rm(alertness_change)
# generate session 1-5 data to assess learning
sess15 <- allData.df %>%
dplyr::filter(session %in% 1:5)
testCovar2 <- lmer(trialScore3_allFingers ~
# model interaction term
# fixed effects
binned_seq*COND*videoGames +
binned_seq*COND*typeWithoutLooking +
binned_seq*COND*alertness_start + # using only alertness_start here. see below for alertness_end and change.
binned_seq*COND*concentration +
# random effects
(binned_seq | workerID),
data = sess15
)
#
# anova(testCovar2)
# Anova(testCovar2, type = 'III')
# plot_model(testCovar2)
# plot_model(testCovar2, type = 'int')
#
# model_parameters(testCovar2)
# check_model(testCovar2)
#
# tab_model(testCovar2, show.p = TRUE, show.est = TRUE, show.ci = 0.95, show.fstat = TRUE, show.stat = TRUE, show.r2 = TRUE, use.viewer = FALSE)
#
# # compare the two models
# anova(testCovar1,testCovar2)
########################################
# alertness_end only
########################################
testCovar3 <- lmer(trialScore3_allFingers ~
# model interaction term
# fixed effects
binned_seq*COND*videoGames +
binned_seq*COND*typeWithoutLooking +
binned_seq*COND*alertness_end +
binned_seq*COND*concentration +
# random effects
(binned_seq | workerID),
data = sess15
)
########################################
# alertness_change only
########################################
testCovar4 <- lmer(trialScore3_allFingers ~
# model interaction term
# fixed effects
binned_seq*COND*videoGames +
binned_seq*COND*typeWithoutLooking +
binned_seq*COND*alertness_change +
binned_seq*COND*concentration +
# random effects
(binned_seq | workerID),
data = sess15
)
Anova(testCovar2)
Anova(testCovar3)
Anova(testCovar4)
rm(testCovar2,testCovar3)
testCovar2 <- lmer(trialScore3_allFingers ~
# model interaction term
# fixed effects
binned_seq*COND*videoGames +
binned_seq*COND*typeWithoutLooking +
binned_seq*COND*alertness_start +
binned_seq*COND*alertness_change +
binned_seq*COND*concentration +
# random effects
(binned_seq | workerID),
data = sess15
)
testCovar2 <- lmer(trialScore3_allFingers ~
# model interaction term
# fixed effects
binned_seq*COND*videoGames +
binned_seq*COND*typeWithoutLooking +
binned_seq*COND*alertness_start +
binned_seq*COND*alertness_change +
binned_seq*COND*concentration +
# random effects
(binned_seq | workerID),
data = sess15
)
#
# anova(testCovar2)
# Anova(testCovar2, type = 'III')
# plot_model(testCovar2)
# plot_model(testCovar2, type = 'int')
#
# model_parameters(testCovar2)
# check_model(testCovar2)
#
# tab_model(testCovar2, show.p = TRUE, show.est = TRUE, show.ci = 0.95, show.fstat = TRUE, show.stat = TRUE, show.r2 = TRUE, use.viewer = FALSE)
#
# # compare the two models
# anova(testCovar1,testCovar2)
anova(testCovar2)
Anova(testCovar2, type = 'III')
plot_model(testCovar2)
plot_model(testCovar2, type = 'int')
Anova(testCovar2, type = 'III')
plot_model(testCovar2)
plot_model(testCovar2, type = 'int')
model_parameters(testCovar2)
Anova(testCovar2, type = 'III')
model_parameters(testCovar2)
testCovar1 <- lmer(trialScore3_allFingers ~
# model interaction term
# fixed effects
binned_seq*COND*age +
binned_seq*COND*musicalInstrument +
binned_seq*COND*videoGames +
binned_seq*COND*writingKeyboard +
binned_seq*COND*typeWithoutLooking +
binned_seq*COND*alertness_start +
binned_seq*COND*alertness_change + # alertness change not end
binned_seq*COND*concentration +
binned_seq*COND*taskDifficulty +
binned_seq*COND*frustrationLevel +
binned_seq*COND*stressLevel +
# random effects
(binned_seq | workerID),
data = sess15
)
Anova(testCovar1, type = 'III')
model_parameters(testCovar1)
Anova(testCovar1, type = 'III')
Anova(testCovar2, type = 'III')
plot_model(testCovar2)
tab_model(testCovar2, show.p = TRUE, show.est = TRUE, show.ci = 0.95, show.fstat = TRUE, show.stat = TRUE, show.r2 = TRUE, use.viewer = FALSE)
Anova(testCovar2, type = 'III')
plot_model(testCovar2)
model_parameters(testCovar2)
Anova(testCovar2, type = 'III')
backElim4 <- lmer(trialScore3_allFingers ~
binned_seq*COND*INTFcond +
binned_seq*COND*overtSequence +
# random effects
(binned_seq | workerID),
data = sess15
)
anova(backElim4)
Anova(backElim4, type='III')
tab_model(backElim4)
?tab_model
tab_model(backElim4)
backElim4.model <- tab_model(backElim4)
View(backElim4.model)
tab_model(backElim4, file='backElim4.docx')
browseURL("my_model_results.docx")
browseURL("backElim4.docx")
cd
tab_model(backElim4, file='backElim4.html')
testCovar1 <- lmer(trialScore3_allFingers ~
# model interaction term
# fixed effects
binned_seq*COND*age +
binned_seq*COND*musicalInstrument +
binned_seq*COND*videoGames +
binned_seq*COND*writingKeyboard +
binned_seq*COND*typeWithoutLooking +
binned_seq*COND*alertness_start +
binned_seq*COND*alertness_change + # alertness change not end
binned_seq*COND*concentration +
binned_seq*COND*taskDifficulty +
binned_seq*COND*frustrationLevel +
binned_seq*COND*stressLevel +
# random effects
(binned_seq | workerID),
data = sess15
)
Anova(testCovar1, type = 'III')
testCovar2 <- lmer(trialScore3_allFingers ~
# model interaction term
# fixed effects
binned_seq*COND*videoGames +
binned_seq*COND*typeWithoutLooking +
binned_seq*COND*alertness_start +
binned_seq*COND*alertness_change +
binned_seq*COND*concentration +
# random effects
(binned_seq | workerID),
data = sess15
)
Anova(testCovar2, type = 'III')
sess57.df <- allData.df %>%
dplyr::filter(session %in% 5:7)
intfDiffM1 <- lmer(trialScore3_allFingers ~
# fixed effects
binned_seq*COND*INTFcond +
# random effects
(binned_seq | workerID),
data = sess57.df
)
# see if sess5 set to baseline
intfDiffM2 <- lmer(trialScore3_allFingers ~
# fixed effects
session*COND*INTFcond + # how to specify sess5 to be baseline?
# random effects
(session | workerID),
data = sess57.df
)
Anova(intfDiffM2)
tab_model(intfDiffM2)
tab_model(intfDiffM1)
intfDiffM1 <- lmer(trialScore3_allFingers ~
# fixed effects
session + binned_seq*COND*INTFcond + # how to specify sess5 to be baseline?
# random effects
(binned_seq | workerID),
data = sess57.df
)
tab_model(intfDiffM1)
?lmer
model_dashboard(intfDiffM1)
model_performance(intfDiffM1)
model_parameters(intfDiffM1)
intfDiffM1 <- lmer(trialScore3_allFingers ~
# fixed effects
session + binned_seq*COND*INTFcond + # how to specify sess5 to be baseline? set to factor? do i need to do this?
# random effects
(binned_seq | workerID),
data = sess57.df
)
model_parameters(intfDiffM1)
Anova(intfDiffM1)
Anova(intfDiffM1, type ='III')
plot_model(intfDiffM1,type='int')
plot_model(intfDiffM1) #,type='int')
plot_model(intfDiffM1 ,type='int')
names(allData.df)
intfDiffM2 <- lmer(trialScore3_allFingers ~
# fixed effects
binned_seq*COND*INTFcond +
binned_seq*age*INTFcond +
binned_seq*musicalInstrument*INTFcond +
binned_seq*writingKeyboard*INTFcond +
binned_seq*overtSequence*INTFcond +
binned_seq*videoGames*INTFcond +
binned_seq*writingKeyboard*INTFcond +
binned_seq*videoGames*INTFcond +
binned_seq*typeWithoutLooking*INTFcond +
binned_seq*alertness_start*INTFcond +
binned_seq*concentration*INTFcond +
binned_seq*taskDifficulty*INTFcond +
binned_seq*frustrationLevel*INTFcond +
binned_seq*stressLevel*INTFcond +
binned_seq*alertness_change*INTFcond +
# random effects
(binned_seq | workerID),
data = sess57.df
)
Anova(intfDiffM2
Anova(intfDiffM2)
plot_model(intfDiffM2, type = 'int')
Anova(intfDiffM2, type = 'III')
intfDiffM1 <- lmer(trialScore3_allFingers ~
# fixed effects
binned_seq*COND*INTFcond +
# random effects
(binned_seq | workerID),
data = sess57.df
)
model_parameters(intfDiffM1)
Anova(intfDiffM1, type ='III')
plot_model(intfDiffM1 ,type='int')
intfDiffM2 <- lmer(trialScore3_allFingers ~ # full model with all covariates
# fixed effects
binned_seq*COND*INTFcond +
binned_seq*age*INTFcond +
binned_seq*musicalInstrument*INTFcond +
binned_seq*writingKeyboard*INTFcond +
binned_seq*overtSequence*INTFcond +
binned_seq*videoGames*INTFcond +
binned_seq*typeWithoutLooking*INTFcond +
binned_seq*alertness_start*INTFcond +
binned_seq*concentration*INTFcond +
binned_seq*taskDifficulty*INTFcond +
binned_seq*frustrationLevel*INTFcond +
binned_seq*stressLevel*INTFcond +
binned_seq*alertness_change*INTFcond +
# random effects
(binned_seq | workerID),
data = sess57.df
)
Anova(intfDiffM2, type = 'III')
report(testCovar2)
autoStep_testCovar1 <- step(testCovar1)
pak::pak("hadley/genzplyr")
install.packages("genzplyr")
remotes::install_github("search genzplyr")
demo_genzplyr()
library(readr) # for reading csv files
library(dplyr) # for data manipulation
library(ggplot2) # for visualization
library(tidyr) # for data tidying
library(Hmisc)
# import CSV file with subject IDs and analyze CMC over time, as well as beta vs gamma, muscle, brain region, etc
# set working directory to folder with all step9 excel files
cmcData.df <- read_csv("/Users/DOB223/Library/CloudStorage/OneDrive-MedicalUniversityofSouthCarolina/Documents/lab/studies/1eeg/TNTanalysis/allDataForAnalyze.txt")
model1 <- lmer(WFMTavgTime ~
(BrainRegion*Muscle*Coh) + session +
(Coh | session),
data = dplyr::sample_frac(cmcData.df, 0.2)
)
libs <- c('lme4', 'lmerTest', 'performance','dplyr', 'car',
'sjPlot','parameters','easystats') # needed if loading data in and not starting at top of script.
lapply(libs, require, character.only = TRUE)
model1 <- lmer(WFMTavgTime ~
(BrainRegion*Muscle*Coh) + session +
(Coh | session),
data = dplyr::sample_frac(cmcData.df, 0.2)
)
model12 <- lmer(WFMTavgTime ~
(BrainRegion*Muscle*Coh) + session +
(Subject | session),
data = dplyr::sample_frac(cmcData.df, 0.2)
)
```{r}
model1 <- lmer(WFMTavgTime ~
(BrainRegion*Muscle*Coh) + session +
(Coh | session),
data = dplyr::sample_frac(cmcData.df, 0.2)
)
model12 <- lmer(WFMTavgTime ~
(BrainRegion*Muscle*Coh) + session +
(Subject | session),
data = dplyr::sample_frac(cmcData.df, 0.2)
)
